// Loads addBookToLibrary once button is clicked.
const addBookBtn = document.querySelector(".add-new-book-btn");
const modal = document.getElementById("addBookForm");
const main = document.querySelector("main");
addBookBtn.addEventListener("click", () => {
  modal.classList.add("form-active");
  modal.classList.remove("form-disabled");
  submitForm();
});

const closeFormBtn = document.getElementById("close-btn");
closeFormBtn.addEventListener("click", () => {
  modal.classList.remove("form-active");
  modal.classList.add("form-disabled");
});

// Submits Book to page and displays book information.
function submitForm() {
  const submitBookBtn = document.getElementById("submit-btn");
  submitBookBtn.addEventListener("click", (e) => {
    e.preventDefault(); // Stops page from refreshing.
    addBookToLibrary();
  });
}

// Appends newly listed book to myLibrary Array.
function addBookToLibrary() {
  const formTitle = document.getElementById("title").value;
  const formAuthor = document.getElementById("author").value;
  const formPages = document.getElementById("pages").value;
  const formRead = document.getElementById("isRead").checked;
  if (formTitle === "" || formAuthor === "" || formPages === "") {
    return;
  } else {
    modal.classList.remove("form-active");
    modal.classList.add("form-disabled");

    const bookToAdd = new Book(formTitle, formAuthor, formPages, formRead);
    myLibrary.push(bookToAdd);
    displayBookValues(bookToAdd);
  }
}